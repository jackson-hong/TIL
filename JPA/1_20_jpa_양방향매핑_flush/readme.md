# 1/20 JPA - 양방향 매핑, Flush

- mappedBy : 연관관계의 주인을 명시
- 연관관계 주인이 아닌 쪽은 조회만 가능함
- 외래키가 있는 곳을 주인으로 정하는게 좋다
- 설계는 단방향으로, 필요시 양방향으로 변환
- 객체 관계를 생각하면 양쪽 모두 넣어주는게 맞다

### 영속성 컨텍스트가 플러시하는 방법 3가지

- em.flush() 호출
- 트랜잭션 커밋 시
- JPQL 쿼리 실행시

### 영속성 전이 : CASCADE

- 특정 엔티티를 영속 상태로 만들 때 연관 엔티티도 함께 영속 상태로 만드는 걸 영속성 전이라고 함
- ALL - 모두 적용
- PERSIST - 영속
- MERGE - 병합
- REMOVE - 삭제
- REFRESH
- DETACH

### 임베디드 타입 (복합 값 타입)

- 여러개의 필드에 매칭되는 값을 클래스로 묶어서 관리하도록 하는 타입
- @Embaddable : 값 타입을 정의하는 곳에 표시
- @Embedded : 값 타입을 사용하는 곳에 표시