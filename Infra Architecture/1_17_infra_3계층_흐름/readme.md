# 1/17 IT Infra - 3계층 흐름

**OS 커널**

- OS의 심장이자 뇌
- “뒤에서 무슨 일이 벌어지는지 은폐하면서도 편리한 인터페이스를 제공”
- 커널의 여섯가지 역할
    - System call interface
        - 프로세스/스레드에서 커널로 연결되는 인터페이스
        - 애플리케이션이 OS를 통해서 어떤 처리를 하고 싶으면 시스템 콜을 이용한다
    - 프로세스 관리
        - 어떤 프로세스가 어느정도의 CPU 코어를 이용할 지, 우선순위 결정
    - 메모리 관리
    - 네트워크 스택
    - 파일 시스템 관리
    - 장치 드라이버
    
    **커널의 설계 및 구현 방식**
    
    - 모놀리식 : 모든 기능을 제공
    - 마이크로식 : 최소한의 기능만 커널이 제공하고 그 외 기능을 커널 밖에서 제공

### 웹 데이터 흐름

**클라이언트 PC부터 웹서버까지**

1. 웹 브라우저가 요청을 발행
    - 웹 브라우져도 OS의 프로세스 →  커널을 통해 네트워크 통신 요청
2. 이름 해석
    - DNS 서버를 통해 이름에 해당하는 IP를 반환받음
3. 웹 서버가 요청을 접수
4. 웹 서버가 정적 콘텐츠인지 동적 콘텐츠인지 판단
    1. 정적 콘텐츠 : 실시간 변경이 필요 없는 데이터
    2. 동적 콘텐츠 : 높은 빈도로 변경되는 데이터
5. 필요한 경로로 데이터 엑세스

**웹 서버부터 AP 서버까지**

1. 웹 서버로부터 요청이 도착한다
    - 웹 서버에서 온 요청은 NIC를 경유하여 커널에 의해 Interupt 처리된다
2. 스레드가 요청을 받으면 자신이 계산할 수 있는지, 아니면 DB 접속이 필요한지 판단
3. DB 접속이 필요하면 연결 풀에 엑세스한다
4. DB 서버에 요청
    - DB에 보내는 접속 요청 또한 시스템 콜 사용

**CDN(Content Delivery Network) : 대량의 데이터 전송에 특화 된 것으로, 전 세계에 있는 데이터 복사본을 배치하는 기술과 병렬 기술을 활용해서 처리를 효율화 하는 것**