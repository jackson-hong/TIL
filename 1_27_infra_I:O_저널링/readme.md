# 1/27 IT Infra - I/O 크기, 저널링

### I/O 크기

1회의 I/O에 필요한 사이즈를 의미한다

- I/O 크기는 인프라 설계나 성능 튜닝에 있어 중요한 개념
- 예를 들어 3톤의 짐을 1톤 트럭으로 운반하는 경우 3번이나 왕복해야 하기 때문에 효율적이지 못하다
- 그러므로 운반하는 양에 따라 **유동적으로 크기를 선택하는 경우 효율적**으로 운반할 수 있다
- 어디에 사용되나?
    - Oracle DB
        - 오라클 DB가 데이터 파일을 읽기/쓰기하는 최소 단위를 **데이터 블록**이라고 한다
        - OS 데이터 블록 크기와 DB 데이터 블록 크기가 상이할 경우 I/O 크기를 고려해야 한다
        - 예를 들어 DB 블록이 8KB 이지만 OS 데이터 블록이 7KB일 경우 OS는 총 14K를 읽어야한다
    - 네트워크
        - OS 소켓통신시 소켓 버퍼가 차면 TCP 세크먼트로 분할 되고 TCP, IP, MAC 헤더가 붙어 이더넷 프레임에 넣어 전송된다
        - 소켓의 최대 크기를 MTU(Maximum Transfer Unit)이라고 함
        - 송신 중 라우터의 MTU 크기가 전송된 이더넷 프레임의 크기보다 작은 경우 패킷이 분할되기 때문에 성능 저하 이슈가 발생할 수 있다

### 저널링

트랜젝션이나 데이터 변경 이력을 가르킨다

- 데이터 자체가 아닌 **처리 내용을 기록**함
- 데이터 복구 시 롤백 or 롤포워드가 이용된다
- 시스테 장애 시 **복구가 빠르다**
- 데이터 복제보다도 **적은 리소스를 소비하여 데이터를 보호**할 수 있다
- **데이터 갱신이 발생하는 시스템에 적합**하다
- 성능을 요구하는 시스템에는 적합하지 않다