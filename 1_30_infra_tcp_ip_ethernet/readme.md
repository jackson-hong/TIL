# 1/30 IT Infra - TCP/IP, Ethernet

### TCP continued..

- ACK (Acknowlegment)
    - 수신 측에 TCP 세크먼트가 도착하면 송신측에 ACK 데이터를 담은 TCP 세그먼트를 송신측으로 반환한다
    - ACK가 오지 않으면 TCP 세그먼트가 어떤 이유로 사라졌을 가능성이 있다
- 데이터 순서 보증
    - TCP 세그먼트에 시퀀스 번호를 붙여 구현
        
        e.g) 첫번째 시퀀스(1460BITE) 번호 = 1, 두번째 시퀀스 번호 = 1461
        
- 재전송 제어
    - 일정 시간 내에 ACK가 돌아오지 않으면 재전송한다
    - 한번 받은 ACK 번호가 3회 중복돼서 도착한 경우 그 번호에 해당하는 TCP 세그먼트가 도착하지 않았다고 간주하고 재전송한다.

### IP

Internet Protocol의 약자로 가장 널리 사용되는 프로토콜

- IPv4에서 주소가 부족하여 개선된 버전의 IPv6 등장
- 역할
    - 지정한 대상 서버까지 전달받은 데이터를 전해주는 것
- 흐름
    - TCP 세그먼트에 최종 목적지가 적힌 **IP헤더를 추가하여 IP패킷** 생성
    - 현재까지 용량 : TCP 헤더 (20) + 데이터 (1460) + IP 헤더 (20) = 1500바이트
    
    ** 사실 TCP 세그먼트 분할기능 처럼 IP에도 분할 기능이 있다
    
- 구조
    - 네트워크부, 호스트부 가 나뉘어져 있다
    - 어디까지가 네트워크인지 표시하기 위해 **CIDR나 Subnet Mask**를 사용한다
- 라우팅
    - IP는 최종 목적지에 도착할 때까지 목적지를 알고 있는 라우터에 전송을 부탁한다
    - 라우터는 라우팅 테이블을 통해 어디로 보낼지 확인한다
    - 라우팅 테이블에 목적지에 대한 정보가 없을 경우 **기본 게이트웨이(Defualt Gateway)**로 등록된 라우터로 전송한다
    - 잘못된 라우팅을 막고자 IP헤더에는 **TTL**(Time To Live)라는 생존시간 정보를 가지고 있다
    

### Ethernet

**링크 계층**에서 사용되는 대표적 프로토콜

** 무선 랜 프로토콜은 이더넷이 아니다

** **OSI 7계층 모델의 물리 계층**과 밀접한 관계가 있다

- 역할
    - 동일 네트워크 내의 네트워크 장비까지 전달 받은 데이터를 운반한다
    - 케이블 통신에 사용되기 때문에 전기 신호로 전송된다
    - 동일 내트워크 내, 자신이 포함된 링크 내에서만 데이터를 전송할 수 있다
    - 이 때 사용되는 주소가 **MAC 주소**다