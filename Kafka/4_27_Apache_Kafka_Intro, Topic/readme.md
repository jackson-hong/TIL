# 4/27 Apache Kafka

Date: April 27, 2022 9:20 PM

### What is Kafka

- MSA 구조에서 Source App 과 Target App 이 많아짐에 따라 데이터 전송 라인이 많아지고 데이터, 포맷, 프로토콜의 파편화로 인한 유지보수의 어려움을 해결하기 위해 Linkedin 에서 개발되었다.
- Source App과 Target App의 Coupling을 느슨하게 해주기 위해 개발되었다.
- Topic으로 불리는 Queue로 데이터를 저장한다.
- Kafka로 데이터를 전송하는 Producer, 데이터를 받아가는 Consumer로 구성되며 Producer와 Consumer는 각 애플리케이션에 라이브러리로 제공된다.
- 서버에 갑작스런 이슈에도 유연하게 데이터를 복구할 수 있도록 도와준다.
- 낮은 지연과 높은 처리량을 활용하여 데이터를 아주 많이 처리할 수 있다.

### Topic

- 카프카에서는 Topic을 여러개 생성할 수 있다.
- 테이블이나 디렉토리와 비슷한 성질을 가지고 있다.
- 각 토픽을 이름을 가질 수 있다. - 유지보수가 쉬워진다.
- Partition
    - 하나의 토픽을 여러개의 Partition으로 구성될 수 있다.
    - 데이터가 큐와 같이 끝에서부터 쌓인다
    - Consumer는 가장 오래된 순서대로 가져간다
    - Consumer가 데이터를 가져가도 데이터는 삭제되지 않는다. (새로운 Consumer가 동일하게 가져갈 수 있다. - 컨슈머 그룹은 달라야한다.)
    - 파티션은 늘릴 수는 있지만 줄일 수는 없다.
    - 레코드가 저장되는 기간을 설정할 수 있다.